# lab-encryption-2

## Цель

Ознакомление с модулями pyCryptodome, hashlib. Работа с модулем os. Закрепление навыков программирования на языке python.

## Задание

Разработать систему аутентификации пользователей.

## Описание

Программа предназначена для хранения заметок отдельных пользователей. Для каждого пользователя создается новая папка, в которую будут записываться заметки текущего пользователя. Пользовательские заметки должны храниться в зашифрованном виде. Программа, в свою очередь, хранит следующую информацию о пользователях: логин пользователя, хэш от пароля пользователя, имя пользовательской директории, зашифрованный ключ шифрования заметок. Вся служебная и пользовательская информация должна быть защищена, для чего необходимо применять надежное шифрование и хеширование данных.

## Требования

- Программа должна хранить служебную информацию на диске, в зашифрованном виде.

- Программа должна хранить пользовательскую информацию в зашифрованном виде.

- Для шифрования служебной информации можно применять ключ, хранящийся в программе.

- В вашей программе могут работать несколько различных пользователей.

- Для работы в вашей программе пользователь сначала должен либо зарегистрироваться, либо аутентифицироваться.

- В системе НЕ может быть несколько пользователей с одним логином.

- Пользователь НЕ должен получать доступ к чужим заметкам.

- Информация о пользователях хранится в базе.

- Система НЕ хранит пароль от аккаунта пользователя, хранится лишь вычисленный хэш от пароля и соли.

- Шифрование содержимого файлов заметок осуществляется с применением сгенерированного программой секретного ключа.

- Ключ шифрования у каждого пользователя свой.

- Ключ шифрования хранится в базе в зашифрованном виде. Шифрование ключа осуществляется с применением мастер-ключа, созданного на основе пароля пользователя. Мастер-ключ создается алгоритмом PBKDF2 на основе hmac.

- Все шифрования производятся алгоритмом AES в режиме CBC с длинной ключа 256 бит (32 байта).

- Хеш вычисляется по алгоритму SHA256.

Ваша программа должна быть разделена на модули, каждый из которых реализует отдельный функционал.

## Типовая схема программы

- main.py – запускаемый модуль, взаимодействие с пользователем и работа через консоль осуществляется ТОЛЬКО через этот модуль.

- db.py - модуль, осуществляющий взаимодействие с базой служебной информации.

- security.py – модуль, хранящий функции и переменные для проведения шифрования/расшифрования, хеширования, генерации ключей.

- notes.py – модуль, осуществляющий работу с заметками.

## Действия пользователя

- Управление аккаунтом:

	- Создать аккаунт.

	- Аутентифицироваться.

	- Удалить аккаунт.

	- Изменить ключ шифрования.

- Работа с заметками:

	- Создать заметку.

	- Изменить заметку.

	- Удалить заметку.

	- Удалить все заметки.

	- Получить список заметок.

	- Прочитать конкретную заметку.

- Общее

	- Выход из программы

## Уточнения

Пока пользователь не аутентифицируется, ему доступны только пункты на создание аккаунта и аутентификацию.